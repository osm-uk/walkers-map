#!/bin/bash
country=$1

# Change to your osmosis
OSMOSIS=/home/nick/osmosis-0.42/bin/osmosis

${OSMOSIS} --rb file=${country}_railway.osm.pbf outPipe.0=out1 --rb file=${country}_waterway.osm.pbf --merge inPipe.0=out1 outPipe.0=out2 --rb file=${country}_natural.osm.pbf --merge inPipe.0=out2 outPipe.0=out3 --rb file=${country}_highway.osm.pbf --merge inPipe.0=out3 outPipe.0=out4 --rb file=${country}_amenity.osm.pbf --merge inPipe.0=out4 outPipe.0=out5 --rb file=${country}_place.osm.pbf --merge inPipe.0=out5 outPipe.0=out6 --rb file=${country}_peak.osm.pbf --merge inPipe.0=out6 outPipe.0=out7 --rb file=${country}_station.osm.pbf --merge inPipe.0=out7 outPipe.0=out8 --rb file=${country}_landuse.osm.pbf --merge inPipe.0=out8 outPipe.0=out9 --rb file=${country}_man_made.osm.pbf --merge inPipe.0=out9 outPipe.0=out10 --rb file=${country}_pylon.osm.pbf --merge inPipe.0=out10 outPipe.0=out11 --rb file=${country}_stilegate.osm.pbf --merge inPipe.0=out11 outPipe.0=out12 --rb  file=${country}_powerline.osm.pbf --merge inPipe.0=out12 outPipe.0=out13 --rb file=${country}_barrier.osm.pbf --merge inPipe.0=out13 outPipe.0=out14 --rb file=${country}_amenity_way_node.osm.pbf --merge inPipe.0=out14 outPipe.0=out15 --rb file=${country}_station_way_node.osm.pbf --merge inPipe.0=out15 outPipe.0=out16 --rb file=${country}_tourism.osm.pbf --merge inPipe.0=out16 outPipe.0=out17 --rb file=${country}_parking.osm.pbf --merge inPipe.0=out17 outPipe.0=out18 --rb file=${country}_parking_way_node.osm.pbf --merge inPipe.0=out18 outPipe.0=out19 --rb file=${country}_natural_rel.osm.pbf --merge inPipe.0=out19 outPipe.0=out20 --rb file=${country}_landuse_rel.osm.pbf --merge inPipe.0=out20 outPipe.0=out21 --rb file=${country}_leisure_rel.osm.pbf --merge inPipe.0=out21 outPipe.0=out22 --rb file=${country}_leisure.osm.pbf --merge inPipe.0=out22 outPipe.0=out23 --rb file=${country}_building.osm.pbf --merge inPipe.0=out23 --sort --wx file=- | bzip2 > ${country}_relevant.osm.bz2
